import React, { useEffect } from "react";
import { AnimatePresence, motion } from "framer-motion";
import { useRouter } from "next/router";
import {
  disableBodyScroll,
  enableBodyScroll,
  clearAllBodyScrollLocks,
} from "body-scroll-lock";

interface MenuProps {
  menuActive: boolean;
  setMenuActive: React.Dispatch<React.SetStateAction<boolean>>;
}

const Menu: React.FC<MenuProps> = ({ menuActive, setMenuActive }) => {
  const router = useRouter();

  useEffect(() => {
    const menuElement = document.querySelector(".fc-menu");
    if (menuElement) {
      if (menuActive) {
        disableBodyScroll(menuElement);
      } else {
        enableBodyScroll(menuElement);
      }
    }

    return () => {
      clearAllBodyScrollLocks();
    };
  }, [menuActive]);

  const handleMenuItemClick = (path: string) => {
    router.push(path);
    setMenuActive(false);
  };

  return (
    <AnimatePresence>
      {menuActive && (
        <motion.div
          initial={{ opacity: 1, scale: 1, x: "-200%" }}
          animate={{ opacity: 1, x: "0" }}
          exit={{ opacity: 0, y: "-100%" }}
          transition={{ duration: 0.3 }}
          className="fc-menu"
        >
          <div className="wrapper">
            <div className="head">
              <img src="/logo.png" alt="logo" />
              <svg
                width="68"
                height="68"
                viewBox="0 0 68 68"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                onClick={() => setMenuActive(false)}
              >
                <line
                  x1="0.765549"
                  y1="66.3466"
                  x2="65.8194"
                  y2="1.29278"
                  stroke="#D4A95A"
                  stroke-width="2"
                />
                <line
                  x1="2.17976"
                  y1="1.76604"
                  x2="67.2336"
                  y2="66.8199"
                  stroke="#D4A95A"
                  stroke-width="2"
                />
              </svg>
            </div>

            <div className="left">
              <div>
                <p onClick={() => router.push("/wip")}>Средства защиты</p>
                <p onClick={() => router.push("/seeds")}>Семена</p>
                <p onClick={() => router.push("/services")}>Услуги</p>
                <p onClick={() => router.push("/wip")}>События</p>
              </div>
              <div>
                <p onClick={() => router.push("/about")}>О компании</p>
                <p onClick={() => router.push("/partners")}>Наши партнёры</p>
                <p onClick={() => router.push("/contacts")}>Контакты</p>
              </div>
            </div>
            <div className="right">
              <div>
                <p>
                  394036, г. Воронеж, <br />
                  пр-т Революции 9а, оф. 1
                </p>
                <h1>8 (473) 300-39-14</h1>
                <p className="email">inbox@berkana-bio.ru</p>
              </div>

              <div className="wrapper-prices wrapper">
                <div className="seeds">
                  <p>Семена — 2022</p>
                  <svg
                    width="55"
                    height="53"
                    viewBox="0 0 55 53"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M53.0152 32.9975C48.9684 28.795 37.9173 30.5071 35.2713 30.8184C31.3801 27.0829 28.734 22.5691 27.8001 21.0126C29.201 16.8101 30.1349 12.6075 30.2905 8.09373C30.2905 4.20251 28.734 0 24.3759 0C22.8194 0 21.4185 0.933892 20.6403 2.17908C18.7725 5.4477 19.5508 11.985 22.5081 18.6778C20.7959 23.503 19.2395 28.1724 14.8813 36.4218C10.3675 38.2896 0.872917 42.6477 0.0946733 47.3172C-0.216624 48.718 0.250322 50.1189 1.33986 51.2084C2.4294 52.1423 3.83024 52.6093 5.23108 52.6093C10.9901 52.6093 16.5934 44.6712 20.4847 37.9783C23.7533 36.8887 28.8897 35.3323 34.0261 34.3984C40.0964 39.6904 45.3884 40.4687 48.1901 40.4687C51.9257 40.4687 53.3265 38.9122 53.7935 37.5113C54.5717 35.9548 54.1048 34.2427 53.0152 32.9975ZM49.124 35.6436C48.9684 36.7331 47.5675 37.8226 45.0771 37.2C42.1198 36.4218 39.4738 35.021 37.1391 33.1532C39.1625 32.8419 43.6763 32.3749 46.9449 32.9975C48.1901 33.3088 49.4353 34.0871 49.124 35.6436ZM23.1307 3.57992C23.442 3.11297 23.9089 2.80168 24.3759 2.80168C25.7767 2.80168 26.088 4.51381 26.088 5.91465C25.9324 9.18327 25.3098 12.4519 24.2202 15.5649C21.8855 9.33892 22.3524 4.98076 23.1307 3.57992ZM22.8194 33.7758C24.0646 31.2854 25.7767 26.9272 26.3993 25.0594C27.8001 27.3942 30.1349 30.1959 31.3801 31.441C31.3801 31.5967 26.555 32.5306 22.8194 33.7758ZM13.6361 40.0017C10.0562 45.9164 6.32062 49.6519 4.29719 49.6519C3.98589 49.6519 3.67459 49.4963 3.3633 49.3406C2.89635 49.0293 2.7407 48.5624 2.89635 47.9398C3.3633 45.7607 7.41016 42.8034 13.6361 40.0017Z"
                      fill="#185F65"
                    />
                  </svg>
                </div>
                <div className="szr">
                  <p>Средства защиты — 2022</p>
                  <svg
                    width="55"
                    height="53"
                    viewBox="0 0 55 53"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M53.0152 32.9975C48.9684 28.795 37.9173 30.5071 35.2713 30.8184C31.3801 27.0829 28.734 22.5691 27.8001 21.0126C29.201 16.8101 30.1349 12.6075 30.2905 8.09373C30.2905 4.20251 28.734 0 24.3759 0C22.8194 0 21.4185 0.933892 20.6403 2.17908C18.7725 5.4477 19.5508 11.985 22.5081 18.6778C20.7959 23.503 19.2395 28.1724 14.8813 36.4218C10.3675 38.2896 0.872917 42.6477 0.0946733 47.3172C-0.216624 48.718 0.250322 50.1189 1.33986 51.2084C2.4294 52.1423 3.83024 52.6093 5.23108 52.6093C10.9901 52.6093 16.5934 44.6712 20.4847 37.9783C23.7533 36.8887 28.8897 35.3323 34.0261 34.3984C40.0964 39.6904 45.3884 40.4687 48.1901 40.4687C51.9257 40.4687 53.3265 38.9122 53.7935 37.5113C54.5717 35.9548 54.1048 34.2427 53.0152 32.9975ZM49.124 35.6436C48.9684 36.7331 47.5675 37.8226 45.0771 37.2C42.1198 36.4218 39.4738 35.021 37.1391 33.1532C39.1625 32.8419 43.6763 32.3749 46.9449 32.9975C48.1901 33.3088 49.4353 34.0871 49.124 35.6436ZM23.1307 3.57992C23.442 3.11297 23.9089 2.80168 24.3759 2.80168C25.7767 2.80168 26.088 4.51381 26.088 5.91465C25.9324 9.18327 25.3098 12.4519 24.2202 15.5649C21.8855 9.33892 22.3524 4.98076 23.1307 3.57992ZM22.8194 33.7758C24.0646 31.2854 25.7767 26.9272 26.3993 25.0594C27.8001 27.3942 30.1349 30.1959 31.3801 31.441C31.3801 31.5967 26.555 32.5306 22.8194 33.7758ZM13.6361 40.0017C10.0562 45.9164 6.32062 49.6519 4.29719 49.6519C3.98589 49.6519 3.67459 49.4963 3.3633 49.3406C2.89635 49.0293 2.7407 48.5624 2.89635 47.9398C3.3633 45.7607 7.41016 42.8034 13.6361 40.0017Z"
                      fill="#D4A95A"
                    />
                  </svg>
                </div>
              </div>
            </div>
            <div className="foot">
              <p>© 2012–2023 «Беркана»</p>
              <div className="social">
                <svg
                  width="20"
                  height="11"
                  viewBox="0 0 20 11"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M9.78542 10.9538H10.9808C10.9808 10.9538 11.3418 10.9155 11.5264 10.724C11.6961 10.548 11.6907 10.2178 11.6907 10.2178C11.6907 10.2178 11.6673 8.67138 12.4117 8.44364C13.1457 8.21921 14.0881 9.93819 15.0869 10.5992C15.8422 11.0993 16.4162 10.9899 16.4162 10.9899L19.0871 10.9538C19.0871 10.9538 20.4842 10.8707 19.8217 9.8117C19.7675 9.72521 19.4357 9.02831 17.8358 7.5965C16.1609 6.09793 16.3854 6.34037 18.4028 3.74814C19.6313 2.1695 20.1224 1.20576 19.969 0.79304C19.8227 0.399803 18.9191 0.503667 18.9191 0.503667L15.9118 0.521599C15.9118 0.521599 15.6888 0.492309 15.5235 0.587632C15.3619 0.680871 15.2582 0.898693 15.2582 0.898693C15.2582 0.898693 14.782 2.12022 14.1475 3.15921C12.8084 5.35131 12.2729 5.46735 12.054 5.33103C11.5447 5.01375 11.672 4.05667 11.672 3.37656C11.672 1.25207 12.0062 0.366318 11.0211 0.136991C10.6942 0.0609503 10.4535 0.0106469 9.61741 0.00242938C8.54434 -0.00807726 7.63633 0.00559906 7.12208 0.248485C6.77994 0.410017 6.51598 0.769885 6.67684 0.790604C6.87562 0.816108 7.32564 0.907704 7.56427 1.2207C7.87253 1.625 7.86175 2.53265 7.86175 2.53265C7.86175 2.53265 8.03886 5.0335 7.4482 5.34406C7.0429 5.55713 6.48679 5.12216 5.29293 3.13335C4.68132 2.11462 4.2194 0.98844 4.2194 0.98844C4.2194 0.98844 4.13045 0.778014 3.97158 0.665376C3.77888 0.528907 3.50962 0.485647 3.50962 0.485647L0.651881 0.503638C0.651881 0.503638 0.222957 0.515201 0.0653607 0.695017C-0.0748537 0.855111 0.0541578 1.18587 0.0541578 1.18587C0.0541578 1.18587 2.29132 6.23205 4.8247 8.77507C7.14786 11.1069 9.78542 10.9538 9.78542 10.9538Z"
                    fill="white"
                  />
                </svg>
                <svg
                  width="15"
                  height="15"
                  viewBox="0 0 15 15"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M7.5 0C9.53775 0 9.792 0.00749996 10.5915 0.045C11.3903 0.0825 11.934 0.20775 12.4125 0.39375C12.9075 0.58425 13.3245 0.84225 13.7415 1.2585C14.1229 1.63342 14.418 2.08694 14.6063 2.5875C14.7915 3.06525 14.9175 3.60975 14.955 4.4085C14.9903 5.208 15 5.46225 15 7.5C15 9.53775 14.9925 9.792 14.955 10.5915C14.9175 11.3903 14.7915 11.934 14.6063 12.4125C14.4185 12.9133 14.1233 13.367 13.7415 13.7415C13.3665 14.1227 12.913 14.4178 12.4125 14.6063C11.9347 14.7915 11.3903 14.9175 10.5915 14.955C9.792 14.9903 9.53775 15 7.5 15C5.46225 15 5.208 14.9925 4.4085 14.955C3.60975 14.9175 3.066 14.7915 2.5875 14.6063C2.08674 14.4184 1.63315 14.1232 1.2585 13.7415C0.877055 13.3666 0.581949 12.9131 0.39375 12.4125C0.20775 11.9347 0.0825 11.3903 0.045 10.5915C0.00974996 9.792 0 9.53775 0 7.5C0 5.46225 0.00749996 5.208 0.045 4.4085C0.0825 3.609 0.20775 3.066 0.39375 2.5875C0.581427 2.08663 0.876603 1.63299 1.2585 1.2585C1.63325 0.876923 2.08682 0.581797 2.5875 0.39375C3.066 0.20775 3.609 0.0825 4.4085 0.045C5.208 0.00974996 5.46225 0 7.5 0ZM7.5 3.75C6.50544 3.75 5.55161 4.14509 4.84835 4.84835C4.14509 5.55161 3.75 6.50544 3.75 7.5C3.75 8.49456 4.14509 9.44839 4.84835 10.1517C5.55161 10.8549 6.50544 11.25 7.5 11.25C8.49456 11.25 9.44839 10.8549 10.1517 10.1517C10.8549 9.44839 11.25 8.49456 11.25 7.5C11.25 6.50544 10.8549 5.55161 10.1517 4.84835C9.44839 4.14509 8.49456 3.75 7.5 3.75ZM12.375 3.5625C12.375 3.31386 12.2762 3.0754 12.1004 2.89959C11.9246 2.72377 11.6861 2.625 11.4375 2.625C11.1889 2.625 10.9504 2.72377 10.7746 2.89959C10.5988 3.0754 10.5 3.31386 10.5 3.5625C10.5 3.81114 10.5988 4.0496 10.7746 4.22541C10.9504 4.40123 11.1889 4.5 11.4375 4.5C11.6861 4.5 11.9246 4.40123 12.1004 4.22541C12.2762 4.0496 12.375 3.81114 12.375 3.5625ZM7.5 5.25C8.09674 5.25 8.66903 5.48705 9.09099 5.90901C9.51295 6.33097 9.75 6.90326 9.75 7.5C9.75 8.09674 9.51295 8.66903 9.09099 9.09099C8.66903 9.51295 8.09674 9.75 7.5 9.75C6.90326 9.75 6.33097 9.51295 5.90901 9.09099C5.48705 8.66903 5.25 8.09674 5.25 7.5C5.25 6.90326 5.48705 6.33097 5.90901 5.90901C6.33097 5.48705 6.90326 5.25 7.5 5.25Z"
                    fill="white"
                  />
                </svg>
              </div>
            </div>
          </div>
        </motion.div>
      )}
    </AnimatePresence>
  );
};
export default Menu;
